<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>静态网站分享工具</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .form-group { margin: 20px 0; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        textarea { height: 100px; }
        button { padding: 10px 20px; background-color: #1890ff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #40a9ff; }
        .result { margin-top: 30px; padding: 20px; border: 1px solid #ddd; border-radius: 8px; background-color: #f9f9f9; }
        .code { background-color: #f0f0f0; padding: 15px; border-radius: 4px; font-family: monospace; white-space: pre-wrap; word-break: break-all; margin: 10px 0; }
        .instructions { margin-top: 20px; padding: 15px; background-color: #e6f7ff; border-radius: 4px; }
        .tab { overflow: hidden; border: 1px solid #ccc; border-radius: 4px; margin: 20px 0; }
        .tab button { background-color: #f1f1f1; float: left; border: none; outline: none; cursor: pointer; padding: 10px 15px; transition: 0.3s; }
        .tab button.active { background-color: #1890ff; color: white; }
        .tabcontent { display: none; padding: 20px; border: 1px solid #ccc; border-top: none; }
        .tabcontent.active { display: block; }
    </style>
</head>
<body>
    <h1>静态网站分享工具</h1>
    <p>自动提取或手动输入网站信息，生成带预览的分享链接。</p >
    
    <!-- 选项卡 -->
    <div class="tab">
        <button class="tablinks active" onclick="openTab(event, 'extract')">自动提取</button>
        <button class="tablinks" onclick="openTab(event, 'manual')">手动输入</button>
    </div>
    
    <!-- 自动提取选项卡 -->
    <div id="extract" class="tabcontent active">
        <div class="form-group">
            <label for="targetUrl">目标网站URL</label>
            <input type="url" id="targetUrl" placeholder="请输入要分享的网站链接，例如：https://example.com">
        </div>
        <button onclick="extractInfo()">提取网站信息</button>
        <div id="extractResult" style="margin-top: 20px;"></div>
    </div>
    
    <!-- 手动输入选项卡 -->
    <div id="manual" class="tabcontent">
        <div class="form-group">
            <label for="manualTitle">分享标题</label>
            <input type="text" id="manualTitle" placeholder="输入分享时显示的标题">
        </div>
        <div class="form-group">
            <label for="manualDesc">分享简介</label>
            <textarea id="manualDesc" placeholder="输入分享时显示的简介"></textarea>
        </div>
        <div class="form-group">
            <label for="manualImage">缩略图URL</label>
            <input type="url" id="manualImage" placeholder="输入分享时显示的图片链接">
        </div>
        <div class="form-group">
            <label for="manualTarget">原网站URL</label>
            <input type="url" id="manualTarget" placeholder="输入原网站链接，用户点击后会跳转到这里">
        </div>
    </div>
    
    <button onclick="generateHTML()">生成分享页面</button>
    
    <div class="result" id="result" style="display: none;">
        <h3>生成结果</h3>
        <p>复制以下HTML代码，保存为 <code>index.html</code> 文件：</p >
        <div class="code" id="htmlCode"></div>
        <div class="instructions">
            <h4>上传指南：</h4>
            <ol>
                <li><strong>推荐：使用 Vercel（最快）</strong>：
                    <ul>
                        <li>访问 <a href=" " target="_blank">Vercel</a > 并登录</li>
                        <li>点击 "New Project" → "Upload"，拖拽 <code>index.html</code> 文件上传</li>
                        <li>获取生成的链接（如 <code>https://share-link.vercel.app</code>）</li>
                    </ul>
                </li>
                <li><strong>GitHub Pages</strong>：
                    <ul>
                        <li>创建公开仓库，上传 <code>index.html</code></li>
                        <li>开启 Pages 功能，获取链接</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>
    
    <script>
        let extractedInfo = {};
        
        // 切换选项卡
        function openTab(evt, tabName) {
            let i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
        
        // 提取网站信息（模拟，实际项目中可使用后端API）
        function extractInfo() {
            const url = document.getElementById('targetUrl').value;
            if (!url) {
                alert('请输入目标网站URL');
                return;
            }
            
            // 模拟提取结果（实际项目中可通过后端API抓取）
            extractedInfo = {
                title: '示例网站标题',
                description: '这是一个示例网站的简介，描述网站的主要内容和价值。',
                image: 'https://via.placeholder.com/1200x630',
                url: url
            };
            
            // 显示提取结果
            document.getElementById('extractResult').innerHTML = `
                <div style="padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                    <h4>提取结果（模拟）</h4>
                    <p><strong>标题：</strong>${extractedInfo.title}</p >
                    <p><strong>简介：</strong>${extractedInfo.description}</p >
                    <p><strong>图片：</strong>${extractedInfo.image}</p >
                    <p><strong>原URL：</strong>${extractedInfo.url}</p >
                    <p>提示：由于浏览器跨域限制，实际提取需要后端支持。此处为模拟结果，请手动确认或修改。</p >
                </div>
            `;
        }
        
        // 生成HTML代码
        function generateHTML() {
            let info;
            
            // 根据当前选项卡获取信息
            if (document.getElementById('extract').classList.contains('active')) {
                info = extractedInfo;
                if (!info.title) {
                    alert('请先提取网站信息或切换到手动输入');
                    return;
                }
            } else {
                info = {
                    title: document.getElementById('manualTitle').value,
                    description: document.getElementById('manualDesc').value,
                    image: document.getElementById('manualImage').value,
                    url: document.getElementById('manualTarget').value
                };
                if (!info.title || !info.description || !info.image || !info.url) {
                    alert('请填写所有手动输入字段');
                    return;
                }
            }
            
            // 生成HTML代码
            const htmlCode = `<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${escapeHTML(info.title)}</title>
    <!-- Open Graph协议元数据 -->
    <meta property="og:title" content="${escapeHTML(info.title)}">
    <meta property="og:description" content="${escapeHTML(info.description)}">
    <meta property="og:image" content="${info.image}">
    <meta property="og:url" content="__DEPLOY_URL__">
    <meta property="og:type" content="article">
    <!-- Twitter Card元数据 -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="${escapeHTML(info.title)}">
    <meta name="twitter:description" content="${escapeHTML(info.description)}">
    <meta name="twitter:image" content="${info.image}">
    <!-- 自动重定向 -->
    <meta http-equiv="refresh" content="0; url=${info.url}">
</head>
<body>
    <p>正在跳转到目标页面...</p >
    <script>
        // JavaScript重定向，确保跳转
        window.location.href = '${info.url}';
    </script>
</body>
</html>`;
            
            // 显示结果
            document.getElementById('htmlCode').textContent = htmlCode;
            document.getElementById('result').style.display = 'block';
        }
        
        // 转义HTML特殊字符
        function escapeHTML(str) {
            return str
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
        }
    </script>
</body>
</html>
